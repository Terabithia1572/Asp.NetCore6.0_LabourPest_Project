@model Asp.NetCore6._0_LabourPest_Project.Models.ProfileViewModel

@{
    ViewData["Title"] = "Profile";
    Layout = "~/Views/Shared/_AdminDashboard.cshtml";
}

<div class="pb-9">
    <div class="card mb-5">
        <div class="card-header d-flex justify-content-center align-items-end position-relative mb-7 mb-xxl-0" style="min-height: 214px; ">
            <div class="hover-actions-trigger position-static">
                <div class="bg-holder rounded-top" style="background-image:url('/labourpestcustomer/assets/img/generic/cover-photo.png');"></div><input class="d-none" id="upload-cover-image" type="file" /><label class="cover-image-file-input" for="upload-cover-image"></label>
                <div class="hover-actions end-0 bottom-0 pe-1 pb-2 text-white"><span class="fa-solid fa-camera me-2 overlay-icon"></span></div>
                <!--/.bg-holder-->
            </div><input class="d-none" id="upload-porfile-picture" type="file" />
            <div class="hoverbox feed-profile" style="width: 150px; height: 150px">
                <div class="hoverbox-content rounded-circle d-flex flex-center z-1" style="--phoenix-bg-opacity: .56;"><span class="fa-solid fa-camera fs-3 text-secondary-light"></span></div>
                <div class="position-relative bg-body-quaternary rounded-circle cursor-pointer d-flex flex-center mb-xxl-7">
                    <div class="avatar avatar-5xl">
                        <img class="rounded-circle img-thumbnail shadow-sm border-0"
                             src="@(string.IsNullOrEmpty(Model.Writer.WriterImage) ? Url.Content("~/labourpestcustomer/assets/img/team/9.webp") : Model.Writer.WriterImage)"
                             alt="Profil Resmi" />
                    </div>
                    <label class="w-100 h-100 position-absolute z-1" for="upload-porfile-picture"></label>
                </div>


            </div>
        </div>
        <div class="card-body">
            <div class="row justify-content-xl-between">
                <div class="col-auto">
                    <div class="d-flex flex-wrap mb-3 align-items-center">
                        <h2 class="me-2">@Model.Writer.WriterName @Model.Writer.WriterSurname</h2>
                        <span class="fw-semibold fs-7 text-body-emphasis">u/@Model.Writer.WriterMail</span>
                    </div>

                    <div class="mb-5">
                        <div class="d-md-flex align-items-center">
                            <div class="d-flex align-items-center"><span class="fa-solid fa-user-group fs-9 text-body-tertiary me-2 me-lg-1 me-xl-2"></span><a class="text-body-emphasis" href="#!"><span class="fs-7 fw-bold text-body-tertiary text-opacity-85 text-body-emphasis-hover">@ViewBag.SubscribeCount <span class="fw-semibold ms-1 me-4">Abonelikler</span></span></a></div>
                            <div class="d-flex align-items-center"><span class="fa-solid fa-user-check fs-9 text-body-tertiary me-2 me-lg-1 me-xl-2"></span><a class="text-body-emphasis" href="#!"><span class="fs-7 fw-bold text-body-tertiary text-opacity-85 text-body-emphasis-hover">@ViewBag.CustomerCount <span class="fw-semibold ms-1 me-4">Müşteri Sayısı</span></span></a></div>
                            <div class="d-flex align-items-center"><span class="fa-solid fa-location-dot fs-9 text-body-tertiary me-2 me-lg-1 me-xl-2"></span><a class="text-body-emphasis" href="#!"><span class="fs-7 fw-semibold text-body-tertiary text-opacity-85 text-body-emphasis-hover">Türkiye</span></a></div>
                        </div>
                    </div>
                    <p class="fs-6 text-body-secondary">
                        “@ViewBag.DailyQuote”
                    </p>
                </div>
                <div class="col-auto">
                    <div class="row g-2">
                        <div class="col-auto order-xxl-2"><button class="btn btn-primary lh-1"><span class="fa-solid fa-user-plus me-2"></span>Kullanıcı Ekle</button></div>
                        <div class="col-auto order-xxl-1"><a class="btn btn-phoenix-primary lh-1" href="/AdminMail/MailList"><span class="fa-solid fa-message me-2"></span>Mesaj Gönder</a></div>
                        <div class="col-auto">
                            <div class="position-static">
                                <button class="btn btn-phoenix-secondary lh-1" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent"><span class="fa-solid fa-chevron-down me-2"></span> Daha Fazla</button>
                                <div class="dropdown-menu dropdown-menu-end py-2"><a class="dropdown-item d-xl-none" href="/RegisterCustomer/CustomerList"><span class="fa-solid fa-user-group text-body-secondary me-2"></span><span>Müşteriler</span></a><a class="dropdown-item d-xl-none" href="RegisterCustomer/AddCustomer"><span class="fa-solid fa-users text-body-secondary me-2"></span><span>Müşteri Ekle</span></a><a class="dropdown-item d-xl-none" href="/Image/ImageList"><span class="fa-solid fa-photo-film text-body-secondary me-2"></span><span>Albümler</span></a><a class="dropdown-item d-xl-none" href="#!"><span class="fa-solid fa-calendar-days fs-8 text-body-secondary me-2"></span><span> Etkinlikler</span></a><a class="dropdown-item d-xl-none" href="/Subscribe/SubscribeList"><span class="fa-solid fa-dice text-body-secondary me-2"></span><span>Abonelikler</span></a><a class="dropdown-item d-xl-none" href="/AdminDashboard/ProfileSettings"><span class="fa-solid fa-user-gear text-body-secondary me-2"></span><span>Ayarlar</span></a><a class="dropdown-item" href="#!"><span class="fa-solid fa-bell-slash text-body-secondary me-2"></span><span>Sessize Al</span></a><a class="dropdown-item" href="/AdminDashboard/ProfileSettings"><span class="fa-solid fa-gear text-body-secondary me-2"></span><span>Ayarları Yönet</span></a><a class="dropdown-item" href="#"><span class="fa-solid fa-hand-holding-heart text-body-secondary me-2"></span><span>Yardım Alın</span></a><a class="dropdown-item" href="#!"><span class="fa-solid fa-flag text-body-secondary me-2"></span><span>Hesabı Bildir</span></a><a class="dropdown-item" href="#!"><span class="fa-solid fa-ban text-body-secondary me-2"></span><span>Hesabı Blokla</span></a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row gy-3 gx-5 gx-xxl-6">
        <div class="col-xl-4 d-none d-xl-block">
            <div class="mb-8">
                <div class="row g-0">
                    <div class="col-6 border-1 border-bottom border-translucent border-end py-2"> <a class="btn btn-link ps-2 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="/RegisterCustomer/CustomerList"><span class="fa-solid fa-user-group me-2 mb-2 mb-xxl-0"></span>Müşteriler</a></div>
                    <div class="col-6 border-1 border-bottom border-translucent py-2"><a class="btn btn-link fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="RegisterCustomer/AddCustomer"><span class="fa-solid fa-users me-2 mb-2 mb-xxl-0"></span>Müşteri Ekle</a></div>
                    <div class="col-6 border-1 border-bottom border-translucent border-end py-2"><a class="btn btn-link ps-2 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="/File/FileList"><span class="fa-solid fa-photo-film me-2 mb-2 mb-xxl-0"></span>Dosyalar</a></div>
                    <div class="col-6 border-1 border-bottom border-translucent py-2"><a class="btn btn-link fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="#!"><span class="fa-solid fa-calendar-days me-2 mb-2 mb-xxl-0"></span>Etkinlikler</a></div>
                    <div class="col-6 border-1 border-end border-translucent py-2"><a class="btn btn-link ps-2 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="/Subscribe/SubscribeList"><span class="fa-solid fa-dice me-2 mb-2 mb-xxl-0"></span>Abonelikler</a></div>
                    <div class="col-6 border-1 py-2"><a class="btn btn-link fs-8 text-body-secondary text-primary-hover fw-semibold d-flex flex-column d-xxl-inline-block" href="/AdminDashboard/ProfileSettings"><span class="fa-solid fa-user-gear me-2 mb-2 mb-xxl-0"></span>Ayarlar </a></div>
                </div>
            </div>
            <div class="mb-8">
                <div class="d-flex pb-4 align-items-end">
                    <h3 class="flex-1 mb-0">Fotoğraflar</h3><a class="fw-bold fs-9 me-4" href="/Image/ImageList">Albümler</a><a class="fw-bold fs-9" href="/Image/ImageList">Tümünü Gör</a>
                </div>
                <div class="row g-3">

                    @if (Model.Images != null && Model.Images.Any())
                    {
                        foreach (var item in Model.Images)
                        {
                            <div class="col-4">
                                <a href="@item.ImageUpload" data-gallery="gallery-photos">
                                    <img class="w-100 rounded-3" src="@item.ImageUpload" alt="" />
                                </a>
                            </div>
                        }
                    }
                    else
                    {
                        <p>Görüntülenecek resim bulunamadı.</p>
                    }
                </div>
            </div>
            <div class="d-flex pb-4 align-items-end border-bottom border-translucent border-dashed">
                <h3 class="flex-1 mb-0">Giriş Yapan Kullanıcı Bilgileri</h3>
                <a class="fw-bold fs-9" href="/AdminDashboard/ProfileSettings">Detayları Gör</a>
            </div>
            <div class="row g-0 mb-5 mb-lg-0">
                <div class="col-12 border-1 border-bottom border-translucent py-2">
                    <a class="btn btn-link px-0 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex" href="#!">
                        <span class="fa-solid fa-user-group me-2 mb-2 mb-xxl-0"></span> @Model.BlogCount Toplam Blog Sayısı
                    </a>
                </div>
                <div class="col-12 border-1 border-bottom border-translucent py-2">
                    <a class="btn btn-link px-0 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex" href="#!">
                        <span class="fa-solid fa-users me-2 mb-2 mb-xxl-0"></span> @Model.CommentCount Toplam Yorum Sayısı
                    </a>
                </div>
                <div class="col-12 border-1 border-bottom border-translucent py-2">
                    <a class="btn btn-link px-0 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex" href="#!">
                        <span class="fa-solid fa-tags me-2 mb-2 mb-xxl-0"></span> @Model.ImageCount Toplam Resim Sayısı
                    </a>
                </div>
                <div class="col-12 border-1 border-bottom border-translucent py-2">
                    <a class="btn btn-link px-0 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex" href="#!">
                        <span class="fa-solid fa-calendar-days me-2 mb-2 mb-xxl-0"></span> @Model.CategoryCount Toplam Kategori Sayısı
                    </a>
                </div>
                <div class="col-12 border-1 border-bottom border-translucent py-2">
                    <a class="btn btn-link px-0 fs-8 text-body-secondary text-primary-hover fw-semibold d-flex" href="#!">
                        <span class="fa-solid fa-location-dot me-2 mb-2 mb-xxl-0"></span> @Model.UserCount Toplam Kullanıcı Sayısı
                    </a>
                </div>
            </div>
        </div>
       

<!-- Diğer yazar bilgileri burada görüntülenecek -->

<div class="col-12 col-xl-8">
    @foreach (var blog in Model.Blogs)
    {
        <div class="mb-5">
            <div class="card mb-4">
                <div class="card-body p-3 p-sm-4">
                    <!-- Blog üst bilgileri -->
                    <div class="border-bottom border-translucent mb-3">
                        <div class="d-flex align-items-center mb-3">
                            <a href="profile.html">
                                <div class="avatar avatar-xl me-2">
                                    <img class="rounded-circle" src="@Url.Content(blog.Writer.WriterImage)" alt="Profil Resmi" />
                                </div>
                            </a>
                            <div class="flex-1">
                                <a class="fw-bold mb-0 text-body-emphasis" href="profile.html">
                                    @blog.Writer.WriterName @blog.Writer.WriterSurname
                                </a>
                                <p class="fs-10 mb-0 text-body-tertiary text-opacity-85 fw-semibold">
                                    @blog.BlogDate.ToString("g")
                                    <span class="fa-solid fa-circle text-body-quaternary text-opacity-50" data-fa-transform="shrink-10 down-2"></span>
                                    Türkiye
                                    <span class="fa-solid fa-circle text-body-quaternary text-opacity-50" data-fa-transform="shrink-10 down-2"></span>
                                    <span class="fa-solid fa-earth-americas text-body"></span>
                                </p>
                            </div>
                        </div>
                        <p class="text-body-secondary">@blog.BlogContent</p>
                        <div class="row g-1 mb-5">
                            <div class="col-12">
                                <a href="@Url.Content(blog.BlogImage)" data-gallery="gallery-posts-@blog.BlogID">
                                    <img class="rounded h-100 w-100" src="@Url.Content(blog.BlogImage)" alt="Blog Resmi" />
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex">
                        <button class="btn btn-link p-0 me-3 fs-10 fw-bolder" type="button">
                            <span class="fa-solid fa-heart me-1"></span>@blog.BlogComments.Count() Beğeni
                        </button>
                        <button class="btn btn-link text-body p-0 fs-10 me-3 fw-bolder" type="button">
                            <span class="fa-solid fa-comment me-1"></span>@blog.BlogComments.Count() Yorum
                        </button>
                        <!-- Paylaşım vs. butonlar -->
                    </div>
                </div>
                <!-- Blog yorumları -->
                <div class="bg-body-highlight border-top border-translucent p-3 p-sm-4">
                    @if (blog.BlogComments != null && blog.BlogComments.Any())
                    {
                                @foreach (var comment in Model.BlogComments.Where(x => x.BlogID == blog.BlogID).Take(3))

                        {
                            <div class="d-flex align-items-start mb-3">
                                <a href="profile.html">
                                    <div class="avatar avatar-m me-2">
                                        <!-- Yorum yapan kullanıcının resmi (BlogCommentUserName kullanıyorsanız sabit resim veya ek bir ilişki gerekebilir) -->
                                                <img class="rounded-circle"
                                                     src="@(string.IsNullOrEmpty(comment.Writer?.WriterImage)
        ? Url.Content("~/labourpestcustomer/assets/img/team/9.webp")
        : Url.Content(comment.Writer.WriterImage))"
                                                     alt="Yorum Resmi" />

                                    </div>
                                </a>
                                <div class="flex-1">
                                    <div class="d-flex align-items-center">
                                        <a class="fw-bold mb-0 text-body-emphasis" href="profile.html">
                                            @comment.BlogCommentUserName
                                        </a>
                                        <span class="text-body-tertiary text-opacity-85 fw-semibold fs-10 ms-2">
                                            @comment.BlogCommentDate.ToString("g")
                                        </span>
                                    </div>
                                    <p class="mb-0">@comment.BlogCommentContent</p>
                                </div>
                            </div>
                        }
                    }
                    <div class="d-flex align-items-center">
                        <a href="profile.html">
                            <div class="avatar avatar-m me-2">
                                <img class="rounded-circle" src="@Url.Content(Model.Writer.WriterImage)" alt="Profil Resmi" />
                            </div>
                        </a>
                        <div class="flex-1">
                            <input class="form-control" type="text" placeholder="Add comment" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    <div class="text-center">
        <a class="btn btn-link fs-8 p-0" href="#!">Daha Fazla</a>
    </div>
</div>

    </div>
</div>

